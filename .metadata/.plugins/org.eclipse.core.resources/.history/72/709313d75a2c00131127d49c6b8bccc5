/*
 * lab1_phase2.c
 *
 *  Created on: 2013-10-03
 *      Author: h53huang
 */

void init(int, int);
void background(int);
void finalize(void);
#include "system.h"
#include <io.h>
// our test
int main(void)
{
	int i;
	init(6, 8);
	for(i=0; i<100; i++)
	{
		while(IORD(PIO_PULSE_BASE, 0) == 0) {}
		IOWR(PIO_RESPONSE_BASE, 0, 1);
		background(200);
		while(IORD(PIO_PULSE_BASE, 0) == 1) {}
		IOWR(PIO_RESPONSE_BASE, 0, 0);
	}
	finalize();
}
